<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>解密CSS3新属性——clip-path | Fog3211</title>
    <meta name="description" content="解密CSS3新属性——clip-path">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
  <link rel="manifest" href="/manifest.json">
    <meta name="keywords" content="css">
    <link rel="preload" href="/assets/css/0.styles.cdd2a29b.css" as="style"><link rel="preload" href="/assets/js/app.20bb5225.js" as="script"><link rel="preload" href="/assets/js/6.7fdb8414.js" as="script"><link rel="prefetch" href="/assets/js/10.8a9c4f08.js"><link rel="prefetch" href="/assets/js/11.8783f7cc.js"><link rel="prefetch" href="/assets/js/12.5ba97642.js"><link rel="prefetch" href="/assets/js/13.1555b7ad.js"><link rel="prefetch" href="/assets/js/14.86f2088d.js"><link rel="prefetch" href="/assets/js/15.fe266707.js"><link rel="prefetch" href="/assets/js/16.15fb79aa.js"><link rel="prefetch" href="/assets/js/17.1a463419.js"><link rel="prefetch" href="/assets/js/18.7c246c5a.js"><link rel="prefetch" href="/assets/js/19.61ef187a.js"><link rel="prefetch" href="/assets/js/2.81a45b37.js"><link rel="prefetch" href="/assets/js/20.7a9b2f72.js"><link rel="prefetch" href="/assets/js/21.b4f5ca00.js"><link rel="prefetch" href="/assets/js/22.3f4573be.js"><link rel="prefetch" href="/assets/js/23.e2af9378.js"><link rel="prefetch" href="/assets/js/24.785952aa.js"><link rel="prefetch" href="/assets/js/25.7ae5ad53.js"><link rel="prefetch" href="/assets/js/26.36e42edb.js"><link rel="prefetch" href="/assets/js/27.3409191d.js"><link rel="prefetch" href="/assets/js/28.393153e4.js"><link rel="prefetch" href="/assets/js/29.dfc25383.js"><link rel="prefetch" href="/assets/js/3.c6d0cc46.js"><link rel="prefetch" href="/assets/js/30.71df5033.js"><link rel="prefetch" href="/assets/js/31.df5404b7.js"><link rel="prefetch" href="/assets/js/32.f1e5ef7c.js"><link rel="prefetch" href="/assets/js/33.3a7e0b72.js"><link rel="prefetch" href="/assets/js/34.bad16bb7.js"><link rel="prefetch" href="/assets/js/35.70e4cf71.js"><link rel="prefetch" href="/assets/js/36.121c4657.js"><link rel="prefetch" href="/assets/js/37.bf6ac364.js"><link rel="prefetch" href="/assets/js/38.fc37e97c.js"><link rel="prefetch" href="/assets/js/39.d04e3ead.js"><link rel="prefetch" href="/assets/js/4.bc59a004.js"><link rel="prefetch" href="/assets/js/40.6a269460.js"><link rel="prefetch" href="/assets/js/41.2ac7fb97.js"><link rel="prefetch" href="/assets/js/42.73ab3bd7.js"><link rel="prefetch" href="/assets/js/43.f9273bf5.js"><link rel="prefetch" href="/assets/js/44.0ea4214a.js"><link rel="prefetch" href="/assets/js/45.eb95c47a.js"><link rel="prefetch" href="/assets/js/46.e5a1623a.js"><link rel="prefetch" href="/assets/js/47.3ae1611c.js"><link rel="prefetch" href="/assets/js/48.da7834c4.js"><link rel="prefetch" href="/assets/js/49.cf1add44.js"><link rel="prefetch" href="/assets/js/5.1cecc36c.js"><link rel="prefetch" href="/assets/js/50.7d5dfb82.js"><link rel="prefetch" href="/assets/js/51.16da791b.js"><link rel="prefetch" href="/assets/js/52.23ddb970.js"><link rel="prefetch" href="/assets/js/53.2de2eea4.js"><link rel="prefetch" href="/assets/js/54.c02fc9ea.js"><link rel="prefetch" href="/assets/js/55.b391fb5b.js"><link rel="prefetch" href="/assets/js/56.0c72f5c7.js"><link rel="prefetch" href="/assets/js/57.22a17b28.js"><link rel="prefetch" href="/assets/js/58.533c918b.js"><link rel="prefetch" href="/assets/js/59.96ac7904.js"><link rel="prefetch" href="/assets/js/60.4e089b8c.js"><link rel="prefetch" href="/assets/js/61.7b17150b.js"><link rel="prefetch" href="/assets/js/62.937e58de.js"><link rel="prefetch" href="/assets/js/63.cb70c672.js"><link rel="prefetch" href="/assets/js/7.f5fab6ae.js"><link rel="prefetch" href="/assets/js/8.770acd1e.js"><link rel="prefetch" href="/assets/js/9.93643764.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cdd2a29b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="wrap"><div class="theme-container container no-sidebar"><header class="navbar"><div class="nav-header"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/head.png" class="logo"> <span class="site-name can-hide">
        Fog3211
      </span></a> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">文章</a></div><div class="nav-item"><a href="/resume/" class="nav-link">简历</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="https://github.com/fog3211" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div> <!----></nav> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div></div></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link router-link-active">文章</a></div><div class="nav-item"><a href="/resume/" class="nav-link">简历</a></div><div class="nav-item"><a href="/tags/" class="nav-link">标签</a></div><div class="nav-item"><a href="https://github.com/fog3211" target="_blank" rel="noopener noreferrer" class="nav-link">Github</a></div> <!----></nav> <!----></div> <div class="page-container"><div><div class="page card"><div class="content-header"><h1 class="page-title">
        解密CSS3新属性——clip-path
      </h1> <span class="page-timestamp">2019-08-14 20:04:53</span></div> <div class="content"><p>本文将介绍CSS3新增属性<code>clip-path</code>。
</p> <h2 id="介绍"><a href="#介绍" aria-hidden="true" class="header-anchor">#</a> 介绍</h2> <p>    首先，<code>clip-path</code>是个什么鬼？它其实是w3c推出的一个新的css3属性（用于代替已故的clip），借助<code>clip-path</code>我们可以方便地切割改造图形。</p> <h3 id="正文"><a href="#正文" aria-hidden="true" class="header-anchor">#</a> 正文</h3> <h3 id="属性"><a href="#属性" aria-hidden="true" class="header-anchor">#</a> 属性</h3> <p>    这里的剪切有点类似于<code>overflow:hidden</code>的效果，边框里面显示，外部隐藏。比较常用的形状有（圆(circle)&amp;椭圆(ellipse)，多边形(polygon)）或者说svg图形（不规则）。</p> <div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.box</span><span class="token punctuation">{</span>

<span class="token comment">/* 圆形 ：参数依次代表所占比例（相当于缩放倍数），x坐标，y坐标 */</span>
<span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">circle</span><span class="token punctuation">(</span>50% at 50% 50%<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 椭圆 ：参数依次代表x，y方向所占比例（相当于缩放倍数），x坐标，y坐标 */</span>
<span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">ellipse</span><span class="token punctuation">(</span>25% 40% at 50% 50%<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/* 多边形： polygon（）里面可以有多个参数，每一个参数代表一个点的坐标*/</span>
<span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">polygon</span><span class="token punctuation">(</span>50% 0%<span class="token punctuation">,</span> 0% 100%<span class="token punctuation">,</span> 100% 100%<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div><p>    以上的介绍可能不是那么好理解，尤其对于不太熟悉它的初学者，这里推荐一个在线的工具<a href="https://bennettfeely.com/clippy/" target="_blank" rel="noopener noreferrer">clip-path maker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>可以方便的演示<code>clip-path</code>的神奇用法</p> <h3 id="边框"><a href="#边框" aria-hidden="true" class="header-anchor">#</a> 边框</h3> <p>    clip-path的用法十分强大，比如说我们可以借助它绘制任意多边形的<code>border</code>，如下所示:</p> <p><img src="https://img.fog3211.com/%25LGF1I9PJ~WQ86R~E7%7D4OGD.png" alt="avatar"></p> <p>    这个的实现思路也比较简单，首先通过<code>clip-path: polygon()</code>绘制出多边形，然后在绘制一个形状一致，大小略小的白色多边形进行覆盖即可（由于比较简单就不贴代码了）。</p> <h3 id="动画"><a href="#动画" aria-hidden="true" class="header-anchor">#</a> 动画</h3> <p>    clip-paths可以实现多边形的过渡效果，自然也就可以展示动画了，但是有一点小问题，那就是对于边数相同的多边形过渡是没有问题的，但是边数不同的多边形就没有过渡效果了。效果大致如下(图一无过渡效果，图二有过渡效果)：</p> <p><img src="https://img.fog3211.com/4Z2%5D6CO6FC2IT@Q$SP8%25M46.gif" alt="avatar"> <img src="https://img.fog3211.com/742@@8AT0B%5D@E2AOK%60AJ%5B7B.gif" alt="avatar"></p> <p>    这里主要的难点在于通过clipPath创建的多边形如果想要进行动画过渡的话，需要保持边数和大小的一致，简单讲就是clipPath()中的点的数量是一致的，比如三角形过渡到八边形，我们就需要通过八个点绘制三角形（有5个点会重复，不过没关系），这样就可以实现平滑的过渡效果了。</p> <div class="language-html extra-class"><pre class="language-html"><code>
<span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>ie=edge<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>demo3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
        <span class="token selector">.box1</span> <span class="token punctuation">{</span>
            <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> coral<span class="token punctuation">;</span>
            <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">polygon</span><span class="token punctuation">(</span>50% 0%<span class="token punctuation">,</span> 100% 50%<span class="token punctuation">,</span> 50% 100%<span class="token punctuation">,</span> 0% 50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token property">transition</span><span class="token punctuation">:</span> all 1s linear<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.box2</span> <span class="token punctuation">{</span>
            <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
            <span class="token property">height</span><span class="token punctuation">:</span> 300px<span class="token punctuation">;</span>
            <span class="token property">margin</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> blueviolet<span class="token punctuation">;</span>
            <span class="token property">clip-path</span><span class="token punctuation">:</span> <span class="token function">polygon</span><span class="token punctuation">(</span>50% 0%<span class="token punctuation">,</span> 50% 0%<span class="token punctuation">,</span> 50% 0%<span class="token punctuation">,</span> 50% 100%<span class="token punctuation">,</span> 50% 100%<span class="token punctuation">,</span> 50% 100%<span class="token punctuation">,</span> 0% 50%<span class="token punctuation">,</span> 0% 50%<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token property">transition</span><span class="token punctuation">:</span> all 1s linear<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>toggle1()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>box2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">onclick</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>toggle2()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">toggle1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> toggle1Dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;box1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>toggle1Dom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>clipPath <span class="token operator">==</span> <span class="token string">&quot;polygon(50% 0%, 100% 100%, 0% 100%)&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            toggle1Dom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>clipPath <span class="token operator">=</span> <span class="token string">&quot;polygon(50% 0%, 100% 50%, 50% 100%, 0% 50%)&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            toggle1Dom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>clipPath <span class="token operator">=</span> <span class="token string">&quot;polygon(50% 0%, 100% 100%, 0% 100%)&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">function</span> <span class="token function">toggle2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token keyword">var</span> toggle2Dom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token string">&quot;box2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>toggle2Dom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>clipPath <span class="token operator">==</span>
            <span class="token string">&quot;polygon(50% 0%, 50% 0%, 50% 0%, 50% 100%, 50% 100%, 50% 100%, 0% 50%, 0% 50%)&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            toggle2Dom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>clipPath <span class="token operator">=</span>
                <span class="token string">&quot;polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%)&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            toggle2Dom<span class="token punctuation">.</span>style<span class="token punctuation">.</span>clipPath <span class="token operator">=</span> <span class="token string">&quot;polygon(50% 0%, 50% 0%, 50% 0%, 50% 100%, 50% 100%, 50% 100%, 0% 50%, 0% 50%)&quot;</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="梯形过渡动画"><a href="#梯形过渡动画" aria-hidden="true" class="header-anchor">#</a> 梯形过渡动画</h3> <p><img src="https://img.fog3211.com/%5BY%5B%7BD%5B$C6O2EVEX7S8%60XFAW.gif" alt="avatar"></p> <p>    这个在我的另一篇文章里有具体讲，可以移步<a href="https://fog3211.com/blog/css-irregular-pic.html" target="_blank" rel="noopener noreferrer">这里<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="倒计时效果"><a href="#倒计时效果" aria-hidden="true" class="header-anchor">#</a> 倒计时效果</h3> <p>大概是这个样子：<br> <img src="https://img.fog3211.com/SV%25S%5D%60WT7Z%7D%7DG~%5D%5DCYDJ~J.gif" alt="avatar"></p> <p>    首先圆环的实现就不多说了，大圆套小圆，大圆背景色是渐变的，小圆背景色为白色，很好实现。这里主要说倒计时的实现：也是借助<code>clip-path</code>属性，通过polygon画出遮罩的图形（根据时间计算出每次增加的角度）然后每秒变换一次形状，可能不是很好理解，那就看下图吧：</p> <p><img src="https://img.fog3211.com/_%60SYY_NJSHBI@QW6%603QK%7BS.gif" alt="avatar"></p> <p>    看一下上面的图大概就能理解思路了吧，只要将背景颜色变为白色即可实现，这里就是通过描点绘制每一秒的图像然后增加过渡动画即可。思路比较简单，复杂的在于封装定时函数（兼容更多倒计时），每个点的坐标位置（可以根据数学公式算出来）以及多个定时器的配合使用。</p> <p>    附上<a href="https://github.com/fog3211/blog_demo/tree/branch14" target="_blank" rel="noopener noreferrer">demo地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，欢迎讨论。</p> <h3 id="兼容性"><a href="#兼容性" aria-hidden="true" class="header-anchor">#</a> 兼容性</h3> <p><img src="https://img.fog3211.com/E9BLSYOX%5B0IHM%5B%25QY%291UE1P.png" alt="avatar"></p> <p>    兼容性方面对除微软浏览器外的主流浏览器支持的比较好，原生应用方面ios比较好一点，Android只到了4.4还需努力，就目前而言该属性还不太适合用于线上产品，不过相信不久一定会大放光彩的。</p> <h2 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h2> <p>    借助clip-path属性，我们可以实现很多复杂不规则图形的绘制及切换，当然这需要比较好的数学功底，有关svg的本文没有具体介绍（实在感觉svg已经不需要使用clip-path了），欢迎一起探讨css中的奥妙。</p></div> <!----> <div class="content page-nav"><p class="inner"><span class="prev">
          ← <a href="/blog/uni-miniapp.html" class="prev">
            uni-app框架开发小程序踩坑总结
          </a></span> <span class="next"><a href="/blog/impressjs.html">
            详解网页PPT——impress.js
          </a> →
        </span></p></div></div> <div id="comment-container"><div class="gt-container"><div class="gt-initing"><i class="gt-loader"></i> <p class="gt-initing-text">Gitalking ...</p></div> <!----> <!----> <div><div class="gt-header"><a class="gt-avatar-github"><span class="gt-ico gt-ico-github"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M64 524C64 719.602 189.356 885.926 364.113 947.017 387.65799 953 384 936.115 384 924.767L384 847.107C248.118 863.007 242.674 773.052 233.5 758.001 215 726.501 171.5 718.501 184.5 703.501 215.5 687.501 247 707.501 283.5 761.501 309.956 800.642 361.366 794.075 387.658 787.497 393.403 763.997 405.637 743.042 422.353 726.638 281.774 701.609 223 615.67 223 513.5 223 464.053 239.322 418.406 271.465 381.627 251.142 320.928 273.421 269.19 276.337 261.415 334.458 256.131 394.888 302.993 399.549 306.685 432.663 297.835 470.341 293 512.5 293 554.924 293 592.81 297.896 626.075 306.853 637.426 298.219 693.46 258.054 747.5 262.966 750.382 270.652 772.185 321.292 753.058 381.083 785.516 417.956 802 463.809 802 513.5 802 615.874 742.99 701.953 601.803 726.786 625.381 750.003 640 782.295 640 818.008L640 930.653C640.752 939.626 640 948.664978 655.086 948.665 832.344 888.962 960 721.389 960 524 960 276.576 759.424 76 512 76 264.577 76 64 276.576 64 524Z"></path>
</svg>
</span> <!----></span></a> <div class="gt-header-comment"><textarea placeholder="Leave a comment" class="gt-header-textarea"></textarea> <div class="gt-header-preview markdown-body hide"></div> <div class="gt-header-controls"><a href="https://guides.github.com/features/mastering-markdown/" target="_blank" class="gt-header-controls-tip"><span class="gt-ico gt-ico-tip"><span class="gt-svg"><svg viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg">
  <path d="M512 366.949535c-16.065554 0-29.982212 13.405016-29.982212 29.879884l0 359.070251c0 16.167882 13.405016 29.879884 29.982212 29.879884 15.963226 0 29.879884-13.405016 29.879884-29.879884L541.879884 396.829419C541.879884 380.763865 528.474868 366.949535 512 366.949535L512 366.949535z"
    p-id="3083"></path>
  <path d="M482.017788 287.645048c0-7.776956 3.274508-15.553912 8.80024-21.181973 5.525732-5.525732 13.302688-8.80024 21.181973-8.80024 7.776956 0 15.553912 3.274508 21.079644 8.80024 5.525732 5.62806 8.80024 13.405016 8.80024 21.181973 0 7.776956-3.274508 15.656241-8.80024 21.181973-5.525732 5.525732-13.405016 8.697911-21.079644 8.697911-7.879285 0-15.656241-3.274508-21.181973-8.697911C485.292295 303.301289 482.017788 295.524333 482.017788 287.645048L482.017788 287.645048z"
    p-id="3084"></path>
  <path d="M512 946.844409c-239.8577 0-434.895573-195.037873-434.895573-434.895573 0-239.8577 195.037873-434.895573 434.895573-434.895573 239.755371 0 434.895573 195.037873 434.895573 434.895573C946.895573 751.806535 751.755371 946.844409 512 946.844409zM512 126.17088c-212.740682 0-385.880284 173.037274-385.880284 385.777955 0 212.740682 173.037274 385.777955 385.880284 385.777955 212.740682 0 385.777955-173.037274 385.777955-385.777955C897.777955 299.208154 724.740682 126.17088 512 126.17088z"
    p-id="3085"></path>
</svg>
</span> <span class="gt-ico-text">Markdown is supported</span></span></a> <!----> <button class="gt-btn gt-btn-preview"><span class="gt-btn-text">Preview</span> <!----></button> <button class="gt-btn gt-btn-login"><span class="gt-btn-text">Login with GitHub</span> <!----></button></div></div></div> <div class="gt-comments"><span></span> <p class="gt-comments-null">
                Be the first guy leaving a comment!
            </p> <!----></div></div></div></div></div> <!----></div> <div class="tool-group"><!----></div></div> <!----></div> <div class="background-mask" style="background:#f6f6f6;"></div></div></div>
    <script src="/assets/js/app.20bb5225.js" defer></script><script src="/assets/js/6.7fdb8414.js" defer></script>
  </body>
</html>
